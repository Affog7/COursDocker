{"ast":null,"code":"import _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchFavorites } from \"../thunk/favorites/thunkListFavorites\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nvar FavoritesComponent = function FavoritesComponent() {\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    newFavorite = _useState2[0],\n    setNewFavorite = _useState2[1];\n  var favorites = useSelector(function (state) {\n    return state.FavoritesReducer.favorites;\n  });\n  var dispatch = useDispatch();\n  useEffect(function () {\n    var loadWeathers = function () {\n      var _ref = _asyncToGenerator(function* () {\n        dispatch(fetchFavorites());\n        console.log(\"le total est : \" + favorites[0][\"_city\"][\"_name\"]);\n      });\n      return function loadWeathers() {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    loadWeathers();\n  }, [dispatch]);\n  return _jsxs(View, {\n    children: [_jsx(Text, {\n      children: \"Favorites\"\n    }), _jsx(FlatList, {\n      data: favorites,\n      keyExtractor: function keyExtractor(item, index) {\n        return index.toString();\n      },\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item;\n        return _jsx(Text, {\n          children: item[\"_at\"]\n        });\n      }\n    }), _jsx(TextInput, {\n      value: newFavorite,\n      onChangeText: function onChangeText(text) {\n        return setNewFavorite(text);\n      }\n    })]\n  });\n};\nexport default FavoritesComponent;","map":{"version":3,"names":["React","useEffect","useState","View","FlatList","TextInput","Text","useDispatch","useSelector","fetchFavorites","jsx","_jsx","jsxs","_jsxs","FavoritesComponent","_useState","_useState2","_slicedToArray","newFavorite","setNewFavorite","favorites","state","FavoritesReducer","dispatch","loadWeathers","_ref","_asyncToGenerator","console","log","apply","arguments","children","data","keyExtractor","item","index","toString","renderItem","_ref2","value","onChangeText","text"],"sources":["C:/Users/Affognon/Desktop/reactProj/MeteoApp/Meteo/Screens/Favorites.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { View, FlatList, TextInput, Button,Text } from 'react-native';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Weather } from '../data/stub';\r\nimport { addToFavorites } from '../redux/actions/ActionFavorites';\r\nimport { fetchFavorites } from '../thunk/favorites/thunkListFavorites';\r\nimport { insertFavorite } from '../thunk/favorites/thunkStoreFavorite';\r\n \r\nconst FavoritesComponent = () => {\r\n  const [newFavorite,setNewFavorite] = useState('');\r\n  const favorites : [Weather] = useSelector(state => state.FavoritesReducer.favorites);\r\n  const dispatch = useDispatch();\r\n\r\n  \r\n  \r\n  useEffect(() => {\r\n    const loadWeathers = async () => {\r\n      \r\n        dispatch(fetchFavorites());\r\n       console.log(\"le total est : \"+ favorites[0][\"_city\"][\"_name\"])\r\n    };\r\n    loadWeathers();\r\n     \r\n  }, [dispatch]);\r\n  return (\r\n    <View>\r\n      <Text>Favorites</Text>\r\n      <FlatList\r\n        data={favorites}\r\n        keyExtractor={(item, index) => index.toString()}\r\n        renderItem={({ item }) => <Text>{item[\"_at\"]}</Text>}\r\n      />\r\n      <TextInput\r\n        value={newFavorite}\r\n        onChangeText={text => setNewFavorite(text)}\r\n      />\r\n     </View>\r\n  );\r\n};\r\n\r\n\r\nexport default FavoritesComponent;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAAC,OAAAC,IAAA;AAAA,OAAAC,QAAA;AAAA,OAAAC,SAAA;AAAA,OAAAC,IAAA;AAEnD,SAASC,WAAW,EAAEC,WAAW,QAAQ,aAAa;AAGtD,SAASC,cAAc;AAAgD,SAAAC,GAAA,IAAAC,IAAA;AAAA,SAAAC,IAAA,IAAAC,KAAA;AAGvE,IAAMC,kBAAkB,GAAG,SAArBA,kBAAkBA,CAAA,EAAS;EAC/B,IAAAC,SAAA,GAAqCb,QAAQ,CAAC,EAAE,CAAC;IAAAc,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,WAAW,GAAAF,UAAA;IAACG,cAAc,GAAAH,UAAA;EACjC,IAAMI,SAAqB,GAAGZ,WAAW,CAAC,UAAAa,KAAK;IAAA,OAAIA,KAAK,CAACC,gBAAgB,CAACF,SAAS;EAAA,EAAC;EACpF,IAAMG,QAAQ,GAAGhB,WAAW,CAAC,CAAC;EAI9BN,SAAS,CAAC,YAAM;IACd,IAAMuB,YAAY;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,aAAY;QAE7BH,QAAQ,CAACd,cAAc,CAAC,CAAC,CAAC;QAC3BkB,OAAO,CAACC,GAAG,CAAC,iBAAiB,GAAER,SAAS,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,OAAO,CAAC,CAAC;MACjE,CAAC;MAAA,gBAJKI,YAAYA,CAAA;QAAA,OAAAC,IAAA,CAAAI,KAAA,OAAAC,SAAA;MAAA;IAAA,GAIjB;IACDN,YAAY,CAAC,CAAC;EAEhB,CAAC,EAAE,CAACD,QAAQ,CAAC,CAAC;EACd,OACEV,KAAA,CAACV,IAAI;IAAA4B,QAAA,GACHpB,IAAA,CAACL,IAAI;MAAAyB,QAAA,EAAC;IAAS,CAAM,CAAC,EACtBpB,IAAA,CAACP,QAAQ;MACP4B,IAAI,EAAEZ,SAAU;MAChBa,YAAY,EAAE,SAAAA,aAACC,IAAI,EAAEC,KAAK;QAAA,OAAKA,KAAK,CAACC,QAAQ,CAAC,CAAC;MAAA,CAAC;MAChDC,UAAU,EAAE,SAAAA,WAAAC,KAAA;QAAA,IAAGJ,IAAI,GAAAI,KAAA,CAAJJ,IAAI;QAAA,OAAOvB,IAAA,CAACL,IAAI;UAAAyB,QAAA,EAAEG,IAAI,CAAC,KAAK;QAAC,CAAO,CAAC;MAAA;IAAC,CACtD,CAAC,EACFvB,IAAA,CAACN,SAAS;MACRkC,KAAK,EAAErB,WAAY;MACnBsB,YAAY,EAAE,SAAAA,aAAAC,IAAI;QAAA,OAAItB,cAAc,CAACsB,IAAI,CAAC;MAAA;IAAC,CAC5C,CAAC;EAAA,CACG,CAAC;AAEZ,CAAC;AAGD,eAAe3B,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}